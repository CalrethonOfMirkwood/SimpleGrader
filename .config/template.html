<!DOCTYPE html>

<html>
    <head>
        <title id="title">Grading output</title>
    </head>


    <body>
        <div id="table-container"></div>
    </body>


    <script type="text/javascript">
        fs.readFile('temp.txt', (err, data) => {
            if (err) throw err;
            
            var lines = data.toString().split('\n');

            // change title of document
            document.getElementById('title') = "Grading output on "+lines[0]
            
            var cases = lines[1];
            var students = lines[2]

            const a = [];
            for (let i=0; i<students; i++) {
                a[i] = lines[3+cases+i];
                for (let j=0; j<cases; j++) {
                    a[i][j] = line[3+j].charAt(j);
                }
            }

            // create table
            const table = document.createElement('table');
            const headerRow = document.createElement('tr');
            
            // create header column for names
            const headerCell = document.createElement('th');
            headerCell.textContent = "Name";
            headerRow.appendChild(headerCell);

            // create header column(s) for test cases
            for (let i=0; i<cases; i++) {
                const headerCell = document.createElement('th');
                headerCell.textContent = "TC "+(i+1);
                headerRow.appendChild(headerCell);
            }
            table.appendChild(headerRow);

            // fill in data
            for (let i=0; i<students; i++) {
                const dataRow = document.createElement('tr');
                const dataCell = document.createElement('td');
                dataCell.textContent = a[i][0];
                dataRow.appendChild(dataCell);


                for (let j=0; j<cases; j++) {
                    const dataCell = document.createElement('td');
                    dataCell.textContent = a[i][j+1];
                    dataRow.appendChild(dataCell);
                }
                table.appendChild(dataRow);
            }
            
            // push table to html
            const tableContainer = document.getElementById('table-container');
            tableContainer.appendChild(table);
        })
    </script>
</html>